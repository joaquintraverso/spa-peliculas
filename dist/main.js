(()=>{"use strict";const e=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/",n=()=>'\n        <div class="error404">\n            <h2>Error 404</h2>\n        </div>\n    ',i={"/":async()=>{const e=await(async()=>{try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=105fa4a709e778cc1dcc641d941962bc");return await e.json()}catch(e){console.log("Fetch Error: ",e)}})(),n=await(async()=>{try{const e=await fetch("https://api.themoviedb.org/3/discover/movie?api_key=105fa4a709e778cc1dcc641d941962bc&sort_by=vote_count.desc");return await e.json()}catch(e){console.log("Fetch Error: ",e)}})();return`\n        <div class="movies">\n            <article class="trending-movies">\n                <section class="section-title">\n                    <h2 id="tendencias">Tendencias</h2><br>\n                </section>\n                <section class="section-movie">\n                    ${e.results.map((e=>`\n                        <div class="movie-item">\n                            <a href="#/${e.id}">\n                                <img src="https://image.tmdb.org/t/p/w500${e.backdrop_path}" class= "movie-img" alt=${e.original_title}/>\n                                <h3 class="movie-title">${e.original_title}</h3>\n                                <br>\n                                <p class="movie-vote">Puntuación: ${e.vote_average.toFixed(1)}</p>\n                            </a>\n                        </div>\n                       `)).join("")}\n                </section>\n            </article>\n\n            <article class="popularity-movies">\n                <section class="section-title">\n                    <h2 id="populares">Más populares</h2>\n                </section>\n                <section class="section-movie">\n                    ${n.results.map((e=>`\n                        <div class="movie-item">\n                            <a href="#/${e.id}">\n                                <img src="https://image.tmdb.org/t/p/w500${e.backdrop_path}" class="movie-img" alt=${e.original_title}>\n                                <h3 class="movie-title">${e.original_title}</h3>\n                                <br>\n                                <p class="movie-vote">Puntuación: ${e.vote_average}</p>\n                            </a>    \n                        </div>\n                        `)).join("")}\n                </section>\n            </article>\n        </div>\n   `},"/:id":async()=>{const i=e(),a=await(async e=>{const i=e?`https://api.themoviedb.org/3/movie/${e}?api_key=105fa4a709e778cc1dcc641d941962bc&language=es`:n;try{const e=await fetch(i);return await e.json()}catch(e){console.log("Fetch Error: ",e)}})(i),t=await(async e=>{const n=`https://api.themoviedb.org/3/movie/${e}/credits?api_key=105fa4a709e778cc1dcc641d941962bc`;try{const e=await fetch(n);return await e.json()}catch(e){console.log("Fetch Error: ",e)}})(i);return`\n        <div class="info-movie">\n            <div class="info-img">\n                <img class="poster-img" src="https://image.tmdb.org/t/p/w500${a.poster_path}" alt="img">\n            </div>\n            <div class="info-atributes">\n                <h3 class="info-title">${a.original_title}</h3>\n                <p>${a.overview}</p><br>\n                <h3 class="info-anio">Año: </h3>\n                <p>${a.release_date}</p><br>\n                <h3 class="info-min">Duración: </h3>\n                <p>${a.runtime} min.</p><br>\n                <h3 class="info-vote">Puntuación: </h3>\n                <p>${a.vote_average.toFixed(1)}</p><br>\n                <h3 class="info-genero">Géneros: </h3>\n                <p>${a.genres.map((e=>`${e.name}`)).join(", ")}</p><br>\n                <h3 class="info-reparto">Reparto: </h3>\n                <p id="cast">${t.cast.slice(0,10).map((e=>`${e.name}`)).join(", ")}</p>\n            </div>\n        </div>\n    `}},a=async()=>{const a=document.getElementById("header"),t=document.getElementById("movie-grid");a.innerHTML='\n        <div class="header-main">\n            <div class="header-nav">\n                <h1 class="header-title">\n                    <a href="#/">MOVIE/247</a>\n                </h1>\n                <div class="header-link">\n                    <h4 class="header-link-title"> <a href="#tendencias">Tendencias</a> </h4>\n                    <h4 class="header-link-title"> <a href="#populares">Más Populares</a> </h4>\n                </div>\n            </div>\n        </div>\n    \n    ';let s=e();console.log("Hash: ",s);let o=await(e=>e.length<=7?"/"===e?e:"/:id":`/${e}`)(s);console.log("Ruta: ",o);let c=i[o]?i[o]:n;t.innerHTML=await c()};window.addEventListener("load",a),window.addEventListener("hashchange",a)})();